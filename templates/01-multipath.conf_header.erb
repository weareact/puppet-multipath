################################################################################
# <%= scope.lookupvar('multipath::params::configfile') %> - multipath daemon configuration file
#                       _ _   _             _   _                       __
#       _ __ ___  _   _| | |_(_)_ __   __ _| |_| |__    ___ ___  _ __  / _|
#      | '_ ` _ \| | | | | __| | '_ \ / _` | __| '_ \  / __/ _ \| '_ \| |_
#      | | | | | | |_| | | |_| | |_) | (_| | |_| | | || (_| (_) | | | |  _|
#      |_| |_| |_|\__,_|_|\__|_| .__/ \__,_|\__|_| |_(_)___\___/|_| |_|_|
#                              |_|
################################################################################
#" /!\ DO NOT EDIT THIS FILE: it has been automatically generated by Puppet.
#      In particular, any further changes will be overwritten at the next
#      puppet invocation
################################################################################

### Default settings ###
defaults {
<% if ((@operatingsystem =~ /centos|redhat/i) and (@lsbmajdistrelease.to_i <= 6)) -%>
    udev_dir                /dev
<% end %>

    # Interval between two path checks in seconds
    polling_interval        <%= @polling_interval %>

    # Default path selector algorithm to use
<% if ((@operatingsystem =~ /centos|redhat/i) and (@lsbmajdistrelease.to_i >= 6)) -%>
    # multipath 0.49 / Centos 6
    path_selector           "<%= @selector %>"
<% elsif (@operatingsystem =~ /debian|ubuntu/i) -%>
    # multipath 0.49 / Debian
    path_selector           "<%= @selector %>"
<% else -%>
    # multipath 0.47
    selector                "<%= @selector %>"
<% end %>

    # Default path grouping policy to apply to unspecified multipaths
    path_grouping_policy    <%= @path_grouping_policy %>

<% if ((@operatingsystem =~ /centos|redhat/i) and (@lsbmajdistrelease.to_i <= 6)) -%>
    # Default program and args to callout to obtain a unique path identifier
    getuid_callout          "<%= @getuid_callout %>"
<% end -%>

<% if @operatingsystem =~ /debian|ubuntu/i -%>
    # Default function to call to obtain a path priority value
    prio                    <%= @prio %>
<% elsif ((@operatingsystem =~ /centos|redhat/i) and (@lsbmajdistrelease.to_i == 6)) -%>
    # multipath 0.49 / Centos 6
    # Default function to call to obtain a path priority value
    prio                    <%= @prio %>
<% elsif ((@operatingsystem =~ /centos|redhat/i) and (@lsbmajdistrelease.to_i == 5)) -%>
    # multipath 0.47 / Centos 5
    prio_callout            "<%= @prio_callout %>"
<% end -%>

    # Default method used to determine the paths' state
    path_checker            <%= @path_checker %>

    # Number of IO to route to a path before switching to the next in the same
    # path group
    rr_min_io               <%= @rr_min_io %>
    rr_weight               <%= @rr_weight %>

    #  tell the daemon to manage path group failback, or not to. 0 means
    #  immediate failback, values >0 means deffered failback expressed in seconds
    failback                <%= @failback %>

    # tell the number of retries until disable queueing, or "fail" means
    # immediate failure (no queueing), "queue" means never stop queueing
    no_path_retry           <%= @no_path_retry%>

    # Whether or not to use user-friendly names.
    # If set to "yes", using the bindings file /var/lib/multipath/bindings to
    # assign a persistent and unique alias to the multipath, in the form of
    # mpath<n>. If set to "no" use the WWID as the alias.
    user_friendly_names     <%= @user_friendly_names %>

<% if @max_fds != '' -%>
    # Sets the maximum number of open file descriptors for the multipathd process.
    max_fds                 <%= @max_fds %>
<% end -%>
} # End of the 'defaults' section

